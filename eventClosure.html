<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>闭包与事件代理</title>
</head>
<body>
<ul>
  <p>你好</p>
  <li>item1</li>
  <li>item2</li>
  <li>item3</li>
  <li>item4</li>
</ul>
  
  <script>
//alert('hello');
var ul = document.getElementsByTagName('ul')[0];
// alert(ul.innerHTML);
// 
var ali = ul.getElementsByTagName('li');
//alert(ali.length);
//
for(var i = 0, len = ali.length; i < len; i++) {

/*  ali[i].onclick = (function(j) {
    return function() {
      alert(j);
    };
  })(i);*/

  (function(num) {
    ali[i].onclick = function() {
      alert(ali[num].innerText);
    };
  })(i);
}

ul.onclick = function(e) {
  if(e.target) {
    alert(e.target.innerText);
  }
};
  </script>
</body>
</html>